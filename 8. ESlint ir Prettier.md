## 8. ESlint ir Prettier

`ESLint` yra kodo analizatoriaus įrankis, skirtas atrasti ir ištaisyti problemas JavaScript/TypeScript kode, o `Prettier` yra kodo formatavimo įrankis, kuris automatiškai suformatuoja kodą pagal nustatytas taisykles, palengvinant kodo skaitymą ir supratimą.

#### ESLint Konfigūravimas

Paleidus komandą pasileis konfiguratorius, pasirenkame pagal savo aplinką.

	npx eslint --init

Eslint paskelbė, kad jų didžioji dalis taisyklių yra *deprecated* ir naujesnės versijos jų nebenaudos, to pasekoje pasikeitė ir failo formatai, bei settupinimas. Dažnu atveju neleidžia pasirinkti `To check syntax, find problems, and enforce code style` parinkties, kuris leisdavo panaudoti jau plačiai naudojamą kodo stilių kaip `airbnb`, bei sukurdavo **.json** formato failą. 

Šaltinis:  https://eslint.org/blog/2023/10/deprecating-formatting-rules/

Senas ESlint pavyzdys
**.eslintrc**

	{
	"env": {
	"browser": true,
	"commonjs": true,
	"es2021": true,
	"node": true
	},

	"extends": "airbnb-base",
	"parserOptions": {
	"ecmaVersion": "latest"
	},
	"rules": {}
	}

Naujas ESlint pavyzdys
**.eslint.config.mjs**

	import globals from "globals";
	import pluginJs from "@eslint/js";

	export  default [
	{ files: ["**/*.js"], languageOptions: { sourceType: "commonjs" } },
	{ languageOptions: { globals: globals.node } },
	pluginJs.configs.recommended,
	];

Taip pat naudojant naujausią ESlint versiją būtina atnaujinti VScode pluginą ir pasirinkti **Switch to Pre-Release Version**

 [![Screenshot-2024-05-06-at-10-48-11.png](https://i.postimg.cc/76GNKhsx/Screenshot-2024-05-06-at-10-48-11.png)](https://postimg.cc/hznxjDRw)
 
#### Prettier konfigūravimas 


Nors `Prettier` veikia iškart su numatytais nustatymais, galite sukurti `.prettierrc` failą savo projekto root aplanke, jei norite forc'inti jūsų formatavimą.

**.prettierrc**

	{
	  "semi": true,
	  "singleQuote": true,
	  "trailingComma": "all",
	  "printWidth": 120
	}


#### Rankinis ESlint ir Prettier paleidimas

Jeigu norite turėti galimybę patikrinti ESlint taisykles ar suformatuoti su Prettier visus failus, galite įsirašyti skriptus *package.json* faile

	"scripts": {
	"test": "echo \"Error: no test specified\" && exit 1",
	"lint": "eslint .",
	"prettier": "npx prettier --write ."
	},

Norint naudoti prettier skriptą, reikia įsirašyti modulį 

    npm install prettier --save-dev


#### Integravimas su VScode

Norėdami automatiškai formatuoti kodą ir matyti ESLint taisykles naudojant jūsų mėgstamą kodo editorių (pavyzdžiui, Visual Studio Code), turėtumėte:

1.  Įdiegti reikiamus extensionus, pavyzdžiui, ESLint ir Prettier.
 [![Screenshot-2024-05-06-at-10-48-11.png](https://i.postimg.cc/76GNKhsx/Screenshot-2024-05-06-at-10-48-11.png)](https://postimg.cc/hznxjDRw)
[![Screenshot-2024-05-06-at-12-15-58.png](https://i.postimg.cc/Mp5rZRxs/Screenshot-2024-05-06-at-12-15-58.png)](https://postimg.cc/0z6Cczzm)
2. Susikonfiguruoti, kad formatuotų kodą kas kartą kai išsaugot jį. *Settings > Format on Save (checkbox)*[![image.png](https://i.postimg.cc/GpTBbWsq/image.png)](https://postimg.cc/8FDkHn46)
3. Pasirinkti formatuojantį config'ą, nes kartais VScode nesupranta kurį naudoti failams. Dažniausiai reikia suformatuoti kiekvienam failo extensionui atskirai pvz.: .ts, .js, .css
*Command Pallete > Format Document > Prettier*
[![image.png](https://i.postimg.cc/dtcg6rB1/image.png)](https://postimg.cc/bdL6NG4c)

## Užduotys

### 1. Užduotis: Home service aplikacija

 - Integruoti ESlint ir atitikti visus ESlint reikalavimus
 - Integruoti Prettier ir suformatuoti visus failus

